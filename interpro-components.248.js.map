{"version":3,"sources":["webpack:///./~/interpro-components/src/components/interpro-data-loader.js","webpack:///./~/interpro-components/src/components/interpro-entry.js","webpack:///./~/interpro-components/src/components/interpro-hierarchy.js","webpack:///./~/interpro-components/src/components/interpro-type.js","webpack:///./~/interpro-components/src/components/index.js"],"names":["entryIdPattern","idToUrl","url","id","trim","replace","InterproDataLoader","HTMLElement","observedAttributes","_render","entryid","sources","querySelectorAll","source","parentElement","removeChild","document","createElement","src","dataLoader","querySelector","dataLoaderElementName","appendChild","_planRender","_plannedRender","requestAnimationFrame","_entryid","value","_value","toUpperCase","test","Error","setAttribute","pdbid","removeAttribute","constructor","connectedCallback","disconnectedCallback","attributeChangedCallback","attributeName","oldValue","newValue","HARDCODED_SIZE","InterproEntry","_handleLoadEvent","event","accession","detail","metadata","name","type","err","console","error","_collapseTree","child","children","_expandTree","_handleStateChangeEvent","target","classList","contains","remove","_state","shadowRoot","attachShadow","mode","length","_level","shadowDom","shadyRoot","link","_href","_accession","innerHTML","_type","_selected","_name","_haschildren","_includeexpander","addEventListener","_planUpdate","toggle","level","selected","haschildren","includeexpander","state","href","bind","removeEventListener","InterproHierarchy","_hierarchy","_pruneTreeMarking","node","pruned","_accessions","find","e","_pruneTreePruning","n","survivor","push","_displaymode","includes","_pruneTree","_moveAccessionToTop","branches","map","index","indexOf","_json2HTML","hierarchy","hide","includeExpander","_hrefroot","i","_hideafter","join","h","Array","isArray","Infinity","accessions","split","hrefroot","displaymode","hideafter","once","data","supportedTypes","Map","full","small","color","InterproType","expanded","toLowerCase","descriptor","get","Object","assign","_expanded"],"mappings":"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","file":"interpro-components.248.js","sourcesContent":["const entryIdPattern = /^[A-Z0-9]{3,}$/;\n\nconst idToUrl = ((url) => id => `${url}${id}`)(`\n  //www.example.com/\n`.trim().replace('\\n', ''));\n\nclass InterproDataLoader extends HTMLElement {\n  static get observedAttributes () {\n    return ['entryid'];\n  }\n\n  _render () {\n    const id = this.entryid;\n    // Clean up the DOM\n    const sources = this.querySelectorAll('source');\n    for (const source of sources) {\n      source.parentElement.removeChild(source);\n    }\n    // If no ID, skip\n    if (!id) return;\n    // We have an ID, add or modify a data-loader element to fetch the data\n    const source = document.createElement('source');\n    source.src = idToUrl(id);\n    let dataLoader = this.querySelector(\n      InterproDataLoader.dataLoaderElementName\n    );\n    // If no data loader yet, create and add it\n    if (!dataLoader) {\n      dataLoader = document.createElement(\n        InterproDataLoader.dataLoaderElementName\n      );\n      dataLoader.appendChild(source);\n      this.appendChild(dataLoader);\n    } else {\n      dataLoader.appendChild(source);\n    }\n  }\n\n  _planRender () {\n    // If render is already planned, skip\n    if (this._plannedRender) return;\n    this._plannedRender = true;\n    requestAnimationFrame(() => {\n      this._plannedRender = false;\n      this._render();\n    });\n  }\n\n  // Getters/Setters\n  // entryid\n  get entryid () {\n    return this._entryid;\n  }\n\n  set entryid (value) {\n    const _value = (value || '').trim().toUpperCase();\n    if (_value && !entryIdPattern.test(_value)) {\n      throw new Error(`${value} is not a valid entry ID`);\n    }\n    this._entryid = _value || null;\n    if (this._entryid) {\n      this.setAttribute('entryid', this.pdbid);\n      this._planRender();\n    } else {\n      this.removeAttribute('entryid');\n    }\n  }\n\n  // Custom element reactions\n  constructor () {\n    super();\n    // set defaults\n    this._entryid = null;\n  }\n\n  connectedCallback () {\n    this._planRender();\n  }\n\n  disconnectedCallback () {\n    this._plannedRender = false;\n  }\n\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    this[attributeName] = newValue;\n  }\n}\nInterproDataLoader.dataLoaderElementName = 'data-loader';\n\nexport default InterproDataLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./~/interpro-components/src/components/interpro-data-loader.js","const HARDCODED_SIZE = 21;// TODO: change that to something not fixed\n\nclass InterproEntry extends HTMLElement {\n  static get observedAttributes () {\n    return [\n      'accession', 'name', 'type', 'level', 'selected',\n      'haschildren', 'state', 'href', 'includeexpander'\n    ];\n  }\n\n  _handleLoadEvent (event) {\n    try {\n      this.accession = event.detail.metadata.accession;\n      this.name = event.detail.metadata.name.name;\n      this.type = event.detail.metadata.type;\n      this._planRender();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  _collapseTree () {\n    for (const child of this.children) {\n      child.setAttribute('hidden', '');\n    }\n  }\n\n  _expandTree () {\n    for (const child of this.children) {\n      child.removeAttribute('hidden');\n    }\n  }\n\n  _handleStateChangeEvent (event) {\n    if (event.target.classList.contains('expander')) {\n      for (const child of this.parentElement.children) {\n        child.removeAttribute('hidden');\n      }\n      event.target.classList.remove('expander');\n      return;\n    }\n    switch (this._state) {\n      case 'collapsed':\n        this._expandTree();\n        this.setAttribute('state', 'expanded');\n        break;\n      case 'expanded':\n        this._collapseTree();\n        this.setAttribute('state', 'collapsed');\n        break;\n    }\n  }\n\n  _render () {\n    // If first render\n    if (!this.shadowRoot) {\n      this.attachShadow({mode: 'open'});\n    }\n    if (this.querySelectorAll('interpro-entry').length > 0) this.setAttribute('haschildren', '');\n    for (const child of this.children) {\n      child.setAttribute('level', this._level + 1);\n    }\n    const shadowDom = this.shadyRoot || this.shadowRoot;\n    const link = this._href || `https://www.ebi.ac.uk/interpro/entry/${this._accession}`;\n    shadowDom.innerHTML = `\n      <style>\n        .link {\n          text-decoration: underline;\n          color: midnightblue;\n          cursor: pointer;\n        }\n        .link:hover {\n          color: royalblue;\n        }\n        .children {\n          /*animation: fade 0.5s;*/\n          transform-origin: top right;\n          transform: scaleY(1);\n          /*height: 100%;*/\n          opacity: 1;\n          transition-property: opacity, transform, max-height;\n          transition-timing-function: ease;\n          transition-duration: 0.2s;\n        }\n        :host(.hidden) .children {\n          transform-origin: top right;\n          transform: scaleY(0.1);\n          opacity: 0;\n          max-height: 0em;\n          transition-duration: 0s;\n        }\n        .entry {\n          background-color: #e0e0f0;\n          position: relative;\n          padding: 6px 10px;\n          margin-bottom: 2px;\n          height: ${HARDCODED_SIZE * 2}px;\n          line-height: 1;\n        }\n        .entry:before {\n          content: '';\n          position: absolute;\n          width: 0; \n          height: 0; \n          border: ${HARDCODED_SIZE}px solid #e0e0f0;\n          border-left: 0.5em solid transparent;\n          border-right: 0;\n          left: -0.45em;\n          top: 0;\n        }\n        .entry:after {\n          content: '';\n          position: absolute;\n          width: 0; \n          height: 0; \n          border: ${HARDCODED_SIZE}px solid transparent;\n          border-left: 0.5em solid #e0e0f0;\n          left: 100%;\n          top: 0;\n        }\n        .action-holder {\n          position: absolute;\n          width: 2em; \n          height: 1em; \n          border-radius: 0.3em;\n          left: 3.5em;\n          top: 2em;\n          border: 0;\n          background-color: white;\n          z-index: 2;\n          visibility: hidden;\n          color: #055d97;\n        }\n        .action-holder:hover {\n          color: #058db7;            \n          background-color: lightyellow;\n        }\n        .action-holder:after {\n          content: '';\n          font-weight: bold;\n          width: 2em;\n          text-align: center;\n          position: absolute;\n          cursor: pointer;\n        }\n        .has-children, .expander {\n          visibility: visible;\n        }\n        .has-children:after {\n          content: '-';\n        }\n        .expander:after {\n          content: 'â€¦';\n        }\n        :host(.hidden) .has-children:after {content: '+';}\n      </style>\n      <div style=\"display: inline-block; white-space: nowrap;\">\n        <div class=\"entry\"  style=\"margin-left: ${this._level}rem;\">\n          <interpro-type type=\"${this._type}\"></interpro-type> \n          <span \n              style=\"\n                font-family: 'Helvetica Neue', Verdana, sans-serif;\n                font-weight: ${this._selected ? 'bold' : 'normal'}\n          \">\n              <a class=\"${this._selected ? '' : 'link'}\" ${this._selected ? '' : `href=\"${link}\"`}>\n                   ${this._name}\n               </a> (${this._accession})\n           </span>\n          \n            <div \n                class=\"\n                    action-holder \n                    ${this._haschildren ? 'has-children' : ''}\n                    ${this._includeexpander ? 'expander' : ''}\n                    \" \n             ></div>\n        </div>\n      </div>\n      <div class=\"children\">${this.innerHTML}</div>\n      \n    `.trim();\n    this.shadowRoot.querySelector('.action-holder').addEventListener('click', this._handleStateChangeEvent);\n  }\n\n  _planRender () {\n    // console.log('planning rendering');\n    // If rendering is already planned, skip the rest\n    if (this._plannedRender) return;\n    // Set a flag and _planRender at the next frame\n    this._plannedRender = true;\n    // setTimeout(() => {\n    requestAnimationFrame(() => {\n      // Removes the planned rendering flag\n      this._plannedRender = false;\n      this._render();\n    });\n    // }, 2000);\n  }\n\n  _planUpdate () {\n    this.classList.toggle('hidden');\n  }\n\n  // Getters/Setters\n  // accession\n  get accession () {\n    return this._accession;\n  }\n\n  set accession (value) {\n    this._accession = value;\n  }\n  // name\n  get name () {\n    return this._name;\n  }\n\n  set name (value) {\n    this._name = value;\n  }\n  // type\n  get type () {\n    return this._type;\n  }\n\n  set type (value) {\n    this._type = value;\n  }\n  // level\n  get level () {\n    return this._level;\n  }\n\n  set level (value) {\n    this._level = value * 1;\n  }\n  get selected () {\n    return this._selected;\n  }\n\n  set selected (value) {\n    this._selected = value !== null;\n  }\n  get haschildren () {\n    return this._haschildren;\n  }\n\n  set haschildren (value) {\n    this._haschildren = value !== null;\n  }\n  get includeexpander () {\n    return this._includeexpander;\n  }\n\n  set includeexpander (value) {\n    this._includeexpander = value !== null;\n  }\n  get state () {\n    return this._state;\n  }\n\n  set state (value) {\n    this._state = value;\n  }\n  get href () {\n    return this._href;\n  }\n\n  set href (value) {\n    this._href = value;\n  }\n\n  // Custom element reactions\n  constructor () {\n    super();\n    // set defaults\n    this._type = 'undefined';\n    this._accession = '';\n    this._name = '';\n    this._level = 0;\n    this._state = 'expanded';\n    this._handleLoadEvent = this._handleLoadEvent.bind(this);\n    this._handleStateChangeEvent = this._handleStateChangeEvent.bind(this);\n    this._render = this._render.bind(this);\n    this._planRender = this._planRender.bind(this);\n    this._planUpdate = this._planUpdate.bind(this);\n  }\n\n  connectedCallback () {\n    this.addEventListener('load', this._handleLoadEvent);\n  }\n\n  disconnectedCallback () {\n    this.removeEventListener('load', this._handleLoadEvent);\n  }\n\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    this[attributeName] = newValue;\n    if (attributeName !== 'state') {\n      this._planRender();\n      return;\n    }\n    this._planUpdate();\n  }\n}\n\nexport default InterproEntry;\n\n\n\n// WEBPACK FOOTER //\n// ./~/interpro-components/src/components/interpro-entry.js","\nclass InterproHierarchy extends HTMLElement {\n  static get observedAttributes () {\n    return ['accession', 'accessions', 'displaymode', 'hideafter', 'hrefroot'];\n  }\n  _handleLoadEvent (event) {\n    try {\n      this._hierarchy = event.detail;\n      this._planRender();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  _pruneTreeMarking (node) {\n    const {children, accession} = node;\n    node.pruned = true;\n    if (this._accessions.find(e => e === accession)) {\n      node.pruned = false;\n    }\n    if (children) {\n      for (const child of children) {\n        if (!this._pruneTreeMarking(child)) node.pruned = false;\n      }\n    }\n    return node.pruned;\n  }\n  _pruneTreePruning (node) {\n    const {children, accession, name, type} = node;\n    const n = {accession, name, type};\n    if (!node.pruned) {\n      if (children) {\n        for (const child of children) {\n          const survivor = this._pruneTreePruning(child);\n          if (survivor) {\n            if (!n['children']) n['children'] = [];\n            n['children'].push(survivor);\n          } else if (!this._displaymode.includes('no-children')) {\n            if (!n['children']) n['children'] = [];\n            n['children'].push({\n              accession: child.accession,\n              name: child.name,\n              type: child.type\n            });\n          }\n        }\n      }\n      return n;\n    }\n    return false;\n  }\n\n  _pruneTree (node) {\n    this._pruneTreeMarking(node);\n    return this._pruneTreePruning(node);\n  }\n  _moveAccessionToTop (node) {\n    if (!this._accession) return false;\n    if (node.accession === this._accession) return true;\n    if (!node.children) return false;\n    const branches = node.children.map(child => this._moveAccessionToTop(child));\n    const index = branches.indexOf(true);\n    if (index > 0) {\n      [node.children[0], node.children[index]] = [node.children[index], node.children[0]];\n    }\n    return false;\n  }\n\n  _json2HTML (hierarchy, hide = false, includeExpander = false) {\n    const selected = hierarchy.accession === this._accession ? 'selected' : '';\n    return `\n      <interpro-entry \n        accession=\"${hierarchy.accession}\" \n        type=\"${hierarchy.type}\" \n        name=\"${hierarchy.name}\" ${selected}\n        ${hide ? 'hidden' : ''}\n        ${includeExpander ? 'includeexpander' : ''}\n        ${this._hrefroot ? `href=\"${this._hrefroot}/${hierarchy.accession}\"` : ''}\n      >\n        ${hierarchy.children ? hierarchy.children.map(\n            (child, i) => this._json2HTML(\n              child,\n              i >= this._hideafter,\n              i + 1 === this._hideafter && hierarchy.children.length > i + 1\n            )\n          ).join('') : ''\n        } \n      </interpro-entry>\n    `;\n  }\n  _render () {\n    // If first render\n    if (!this.shadowRoot) {\n      this.attachShadow({mode: 'open'});\n    }\n    this._moveAccessionToTop(this._hierarchy);\n    let h = this._hierarchy;\n    if (this._displaymode.includes('pruned')) {\n      h = Array.isArray(h)\n        ? h.map(n => this._pruneTree(n))\n        : this._pruneTree(this._hierarchy);\n    }\n    const shadowDom = this.shadyRoot || this.shadowRoot;\n    shadowDom.innerHTML = Array.isArray(h)\n      ? h.map(n => this._json2HTML(n).trim()).join('')\n      : this._json2HTML(h).trim();\n  }\n  _planRender () {\n    // console.log('planning rendering');\n    // If rendering is already planned, skip the rest\n    if (this._plannedRender) return;\n    // Set a flag and _planRender at the next frame\n    this._plannedRender = true;\n    // setTimeout(() => {\n    requestAnimationFrame(() => {\n      // Removes the planned rendering flag\n      this._plannedRender = false;\n      this._render();\n    });\n    // }, 2000);\n  }\n  constructor () {\n    super();\n    // set defaults\n    this._displaymode = 'full';\n    this._hideafter = Infinity;\n    this._hrefroot = null;\n    this._handleLoadEvent = this._handleLoadEvent.bind(this);\n    this._json2HTML = this._json2HTML.bind(this);\n    this._render = this._render.bind(this);\n    this._planRender = this._planRender.bind(this);\n    this._pruneTree = this._pruneTree.bind(this);\n  }\n\n  get accession () {\n    return this._accession;\n  }\n  set accession (value) {\n    this._accession = value;\n  }\n  get accessions () {\n    return this._accessions;\n  }\n  set accessions (value) {\n    this._accessions = Array.isArray(value) ? value : value.split(',');\n  }\n  get hrefroot () {\n    return this._hrefroot;\n  }\n  set hrefroot (value) {\n    this._hrefroot = value;\n  }\n  get displaymode () {\n    return this._displaymode;\n  }\n  set displaymode (value) {\n    this._displaymode = value;\n  }\n  get hideafter () {\n    return this._hideafter;\n  }\n  set hideafter (value) {\n    this._hideafter = value * 1;\n  }\n\n  set hierarchy (value) {\n    this._hierarchy = value;\n    this._planRender();\n  }\n  connectedCallback () {\n    const dataLoader = this.querySelector('data-loader');\n    if (dataLoader) {\n      dataLoader.addEventListener('load', this._handleLoadEvent, {once: true});\n      if (dataLoader.data) {\n        this._hierarchy = dataLoader.data;\n        this._planRender();\n      }\n    }\n  }\n\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    this[attributeName] = newValue;\n    if (this._hierarchy) {\n      this._planRender();\n    }\n  }\n}\n\nexport default InterproHierarchy;\n\n\n\n// WEBPACK FOOTER //\n// ./~/interpro-components/src/components/interpro-hierarchy.js","const supportedTypes = new Map([\n  ['family', {full: 'Family', small: 'F', color: '#EC1D25'}],\n  ['domain', {full: 'Domain', small: 'D', color: '#45B41A'}],\n  ['repeat', {full: 'Repeat', small: 'R', color: '#FF830A'}],\n  ['site', {full: 'Site', small: 'S', color: '#A336C6'}],\n  ['active site', {full: 'Active Site', small: 'S', color: '#A336C6'}],\n  ['binding site', {full: 'Binding Site', small: 'S', color: '#A336C6'}],\n  ['conserved site', {full: 'Conserved Site', small: 'S', color: '#A336C6'}],\n  ['ptm', {full: 'PTM', small: 'S', color: '#A336C6'}],\n  ['undefined', {full: 'Undefined', small: 'U', color: '#D3C5BC'}],\n]);\n\nclass InterproType extends HTMLElement {\n  static get observedAttributes () {\n    return ['type', 'expanded'];\n  }\n\n  _handleLoadEvent (event) {\n    try {\n      this.type = event.detail.metadata.type;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  _render () {\n    // If first render\n    if (!this.shadowRoot) {\n      this.attachShadow({mode: 'open'});\n    }\n    (this.shadyRoot || this.shadowRoot).innerHTML = `\n      <span class=\"root\"\n        style=\"\n          display: inline-block;\n          font-family: 'Helvetica Neue', Verdana, sans-serif;\n          margin: 0.1rem;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        \"\n      >\n        <span class=\"small\"\n          style=\"\n            display: inline-block;\n            margin: 0.1rem;\n            padding: 0.2rem 0.4rem;\n            border: 1px gray solid;\n            border-radius: 0.2rem;\n            background: ${this._type.color};\n            color: white;\n          \"\n        >\n          ${this._type.small}\n        </span>\n        ${\n          this.expanded ? `\n            <span class=\"full\"\n              style=\"background: none; color: ${this._type.color};\"\n            >\n              ${this._type.full}\n            </span>\n          ` : ''\n        }\n      </span>\n    `.trim();\n  }\n\n  _planRender () {\n    // console.log('planning rendering');\n    // If rendering is already planned, skip the rest\n    if (this._plannedRender) return;\n    // Set a flag and _planRender at the next frame\n    this._plannedRender = true;\n    requestAnimationFrame(() => {\n      // Removes the planned rendering flag\n      this._plannedRender = false;\n      this._render();\n    });\n  }\n\n  // Getters/Setters\n  // type\n  get type () {\n    return this._type.type;\n  }\n\n  set type (value) {\n    const _value = value.trim().toLowerCase();\n    const descriptor = supportedTypes.get(_value);\n    if (!descriptor) throw new Error(`${value} is not a supported type`);\n    this._type = Object.assign({type: _value}, descriptor);\n    this.setAttribute('type', _value);\n    this._planRender();\n  }\n\n  // expanded\n  get expanded () {\n    return this._expanded;\n  }\n\n  set expanded (value) {\n    this._expanded = value !== null;\n    if (this._expanded) {\n      this.setAttribute('expanded', '');\n    } else {\n      this.removeAttribute('expanded');\n    }\n    this._planRender();\n  }\n\n  // Custom element reactions\n  constructor () {\n    super();\n    // set defaults\n    this._type = supportedTypes.get('undefined');\n    this._expanded = false;\n    this._handleLoadEvent = this._handleLoadEvent.bind(this);\n    this._render = this._render.bind(this);\n    this._planRender = this._planRender.bind(this);\n  }\n\n  connectedCallback () {\n    this.addEventListener('load', this._handleLoadEvent);\n  }\n\n  disconnectedCallback () {\n    this.removeEventListener('load', this._handleLoadEvent);\n  }\n\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    if (oldValue === newValue) return;\n    this[attributeName] = newValue;\n  }\n}\n\nexport default InterproType;\n\n\n\n// WEBPACK FOOTER //\n// ./~/interpro-components/src/components/interpro-type.js","import _InterproDataLoader from './interpro-data-loader';\nimport _InterproType from './interpro-type';\nimport _InterproEntry from './interpro-entry';\nimport _InterproHierarchy from './interpro-hierarchy';\n\nexport const InterproDataLoader = _InterproDataLoader;\nexport const InterproType = _InterproType;\nexport const InterproEntry = _InterproEntry;\nexport const InterproHierarchy = _InterproHierarchy;\n\n\n\n// WEBPACK FOOTER //\n// ./~/interpro-components/src/components/index.js"],"sourceRoot":""}