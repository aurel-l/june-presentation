{"version":3,"sources":["webpack:///./src/web-components/presentation-manager.js"],"names":["PresentationManager","HTMLElement","next","offset","_slideContainer","slide","style","setProperty","total","_maxOffset","_","_footer","current","previous","toggleFullscreen","document","webkitIsFullScreen","webkitExitFullscreen","body","webkitRequestFullscreen","handleInput","target","controlled","getElementById","getAttribute","checkValidity","customProperty","attribute","dataset","value","setAttribute","connectedCallback","console","log","querySelector","slideContainerSelector","footerSelector","Error","maxOffset","getComputedStyle","getPropertyValue","match","addEventListener","disconnectedCallback","_styles","removeEventListener","is"],"mappings":"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","file":"presentation-manager.bc1.js","sourcesContent":["class PresentationManager extends HTMLElement {\n  static is = 'presentation-manager';\n  static slideContainerSelector = 'presentation-slides';\n  static footerSelector = 'presentation-footer';\n\n  // constructor() {\n  //   super();\n  // }\n\n  next() {\n    try {\n      const offset = ++this._slideContainer.slide;\n      this.style.setProperty(\n        '--bg-offset',\n        `${(offset - 1) / (this._slideContainer.total - 1) * this._maxOffset}%`\n      );\n    } catch (_) {}\n    this._footer.current = this._slideContainer.slide;\n  }\n\n  previous() {\n    try {\n      const offset = --this._slideContainer.slide;\n      this.style.setProperty(\n        '--bg-offset',\n        `${(offset - 1) / (this._slideContainer.total - 1) * this._maxOffset}%`\n      );\n    } catch (_) {}\n    this._footer.current = this._slideContainer.slide;\n  }\n\n  toggleFullscreen() {\n    if (document.webkitIsFullScreen) {\n      document.webkitExitFullscreen();\n    } else {\n      document.body.webkitRequestFullscreen();\n    }\n  }\n\n  handleInput({target}) {\n    const controlled = document.getElementById(\n      target.getAttribute('aria-controls') || ''\n    );\n    if (!controlled) return;\n    if (!target.checkValidity()) return;\n    const {customProperty, attribute} = target.dataset;\n    if (customProperty) {\n      controlled.style.setProperty(\n        customProperty,\n        `hsl(${target.value}, 49%, 59%)`\n      );\n    }\n    if (attribute) {\n      controlled.setAttribute(attribute, target.value);\n    }\n  }\n\n  connectedCallback() {\n    console.log('presentation-manager connected');\n    this._slideContainer = this.querySelector(\n      PresentationManager.slideContainerSelector,\n    );\n    this._footer = this.querySelector(PresentationManager.footerSelector);\n    this._footer.total = this._slideContainer.total;\n    if (!this._slideContainer) {\n      throw new Error('A slide container is missing');\n    }\n\n    const [maxOffset] = getComputedStyle(this)\n      .getPropertyValue('--max-bg-offset').match(/\\d+/) || [0];\n    this._maxOffset = +maxOffset;\n\n    this.addEventListener('next', this.next);\n    this.addEventListener('previous', this.previous);\n    this.addEventListener('fullscreen', this.toggleFullscreen);\n    this.addEventListener('input', this.handleInput);\n  }\n\n  disconnectedCallback() {\n    this._styles = null;\n\n    this.removeEventListener('next', this.next);\n    this.removeEventListener('previous', this.previous);\n    this.removeEventListener('fullscreen', this.toggleFullscreen);\n    this.removeEventListener('input', this.handleInput);\n  }\n}\n\nexport default PresentationManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/web-components/presentation-manager.js"],"sourceRoot":""}